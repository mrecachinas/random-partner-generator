<!DOCTYPE html>
<html>
	<head>
	    <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Random Partner Generator</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
		<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/normalize.min.css">
        <link rel="stylesheet" href="css/main.css">
        <style>

        /*! normalize.css v1.1.2 | MIT License | git.io/normalize */article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}audio,canvas,video{display:inline-block;*display:inline;*zoom:1}audio:not([controls]){display:none;height:0}[hidden]{display:none}html{font-size:100%;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}html,button,input,select,textarea{font-family:sans-serif}body{margin:0}a:focus{outline:thin dotted}a:active,a:hover{outline:0}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em;margin:.83em 0}h3{font-size:1.17em;margin:1em 0}h4{font-size:1em;margin:1.33em 0}h5{font-size:.83em;margin:1.67em 0}h6{font-size:.67em;margin:2.33em 0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:bold}blockquote{margin:1em 40px}dfn{font-style:italic}hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}mark{background:#ff0;color:#000}p,pre{margin:1em 0}code,kbd,pre,samp{font-family:monospace,serif;_font-family:'courier new',monospace;font-size:1em}pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}q{quotes:none}q:before,q:after{content:'';content:none}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-0.5em}sub{bottom:-0.25em}dl,menu,ol,ul{margin:1em 0}dd{margin:0 0 0 40px}menu,ol,ul{padding:0 0 0 40px}nav ul,nav ol{list-style:none;list-style-image:none}img{border:0;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}figure{margin:0}form{margin:0}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0;white-space:normal;*margin-left:-7px}button,input,select,textarea{font-size:100%;margin:0;vertical-align:baseline;*vertical-align:middle}button,input{line-height:normal}button,select{text-transform:none}button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer;*overflow:visible}button[disabled],html input[disabled]{cursor:default}input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0;*height:13px;*width:13px}input[type="search"]{-webkit-appearance:textfield;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input[type="search"]::-webkit-search-cancel-button,input[type="search"]::-webkit-search-decoration{-webkit-appearance:none}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}textarea{overflow:auto;vertical-align:top}table{border-collapse:collapse;border-spacing:0}

        	* {
				-webkit-font-smoothing:antialiased;
				-moz-box-sizing: border-box;
			  	-webkit-box-sizing: border-box;
			  	box-sizing: border-box;
				font-family:"Open Sans";
				font-weight:300;
			}

			:focus {
			  outline-color: transparent;
			  outline-style: none;
			}

			html {
				height:100%;
				width:100%;
			}

			body {
				height:100%;
				width:100%;
				/*background:#007fff;*/
			}

			img {
			  max-width: 100%;
			}

			.chromeframe {
			    margin: 0.2em 0;
			    background: #ccc;
			    color: #000;
			    padding: 0.2em 0;
			}

			a {
				text-decoration:none;
				border:1px dashed #007fff;
				padding:4px;
				border-radius:4px;
				color:#007fff;
				-webkit-transition:all 0.5s ease;
				-moz-transition:all 0.5s ease;
				transition:all 0.5s ease;
			}
			a:hover {
				border:1px solid #007fff;
				background:#007fff;
				color:ghostwhite;
			}
			a:active {
				background:#0062C5;
			}

			h1 {
				text-align:center;
				font-weight:bold;
				color:#007fff;
			}

			h3 {
				text-align:center;
			}

			input {
				position:relative;
				border:1px solid #aaa;
				width:300px;
				height:40px;
				font-size:2em;
				border-radius:4px;
				padding-left:2px;
				-webkit-transition:border 0.5s ease;
				-moz-transition:border 0.5s ease;
			}
			input:hover {
				border:1px solid #000;
			}
			input:focus {
				border:1px solid #000;
			}

			#num_spots {
				display:block;
				margin:0 auto;
			}

			.container {
				position:relative;
				display:block;
				margin-top:2%;
				margin-bottom:2%;
				margin-left:auto;
				margin-right:auto;
				/*border:3px dashed #007fff;*/
				padding-top:2%;
				padding-left:10%;
				/*height:400px;*/
				width:70%;
				border-radius:4px;
			}

			.container:hover {
				/*border:3px solid #007fff;*/
			}

			#name_input {
				display:inline-block;
				margin-top:10px;
			}

			#output {
				margin-left:50px;
				font-size:2em;
			}

			hr {
				/*border:1px solid;*/
			}

			footer {
				text-align:center;
			}
        </style>
        <script src="js/modernizr-2.6.2-respond-1.1.0.min.js"></script>
	</head>
	<body>
	    <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->
		<h1>Pseudo-random Partner Generator</h1>
		<h3>Please enter the number of total participants below:</h3>
		<input id="num_spots" type="text">
		<div class="container"></div>
		<footer>
		Made by <a href="http://mikereca.co">Mike</a>
		</footer>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js"></script>
		<script src="js/script.js"></script>
		<script>
			var flag = false;

$("#num_spots").keyup(function(event) {
    $('.container>input').remove();
    $('.container>#output').remove();
    $('.container>br').remove();
    if ( !isNaN($("#num_spots").val()) ){
      	generate_spots(parseInt($("#num_spots").val()));
    }
    
});

function generate_spots(value){
	if (!flag) $(".container").append("<span>Once you enter everyone's name, hit enter.</span>");
	flag = true;
	for(i=0;i<value;i++){
		$(".container").append("<br><input id='name_input' type='text' placeholder='Enter Name'><span id='output'></span>");
	}
	// $('.container').css('height','*=value');
	// $('.container').animate({height: '*=value'}, 500);
}

$("#name_input").live("keypress",function(e){
	if (((e.keyCode || e.which) == 13)) {
		randomly_assign();
	}
});

function randomly_assign() {
	var length = $('.container>input').size();
	var rand;
	var temp;
	var list = [];
	var out = [];
	for (i=0; i<length; i++){
		list.push($('.container>input')[i].value);
	}
	out = list;
	out = shuffleArray(list);
	for(i=0;i<length;i++){
		$('.container>#output')[i].innerText = out[i];
	}
}

function getRandomInt (min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}

function isRandom(list,out){
	for(i=0;i<out.length;i++){
		if (list[i]===out[i]){
			return false;
		}
	}
	return true;
}

function shuffleArray(array) {
    for (var i = array.length - 1; i > 0; i--) {
        var j = Math.floor(Math.random() * i); // no +1 here!
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
    }
    return array;
}
		</script>
	</body>
</html>